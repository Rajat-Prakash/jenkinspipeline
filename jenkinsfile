pipeline{
agent any

stages {
      stage('Publish SNS') {
         steps {
            echo 'Publishing SNS message to AWS'
            withAWS(credentials:'45472be1-a363-45a4-97a3-a65abf4f1bc4') {
                // do something
                echo 'SNS running'
                //aws sns publish --topic-arn arn:aws:sns:us-east-1:572411739171:mailNotification --message "Hello World!"
                //amazonSNS.publish("arn:aws:sns:us-east-1:572411739171:mailNotification", "Hello World!")
                snsPublish(topicArn:'arn:aws:sns:us-east-1:572411739171:mailNotification:a5d3e858-1244-4bed-98cf-bdf8609bf99d', subject:'my subject', message:'this is your message')
            }
         }
      }
   }
   }

  // aws sns publish --topic-arn arn:aws:sns:us-east-1:572411739171:mailNotification --message "Hello World!"


// stages
// {
// stage('Build')
// {
// steps{
// echo "Building the Code.........."
// bat "mvn clean"
// }
// }
// stage('Test')
// {
// steps{
// echo "Testing the Code.........."
// bat "mvn test"
// }
// }
// stage('Compile')
// {
// steps{
// echo "Compiling the Project.........."
// bat "mvn compile"
// }
// }
// stage('Deploy')
// {
// steps{
// echo "Deploying the Project.........."
// }
// }
// }
// }
